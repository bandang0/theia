%
% API Documentation for theia
% Module theia.helpers.geometry
%
% Generated by epydoc 3.0.1
% [Thu Aug 24 10:17:28 2017]
%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                          Module Description                           %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

    \index{theia \textit{(package)}!theia.helpers \textit{(package)}!theia.helpers.geometry \textit{(module)}|(}
\section{Module theia.helpers.geometry}

    \label{theia:helpers:geometry}
Geometry module for theia.


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                               Functions                               %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

  \subsection{Functions}

    \label{theia:helpers:geometry:refrAngle}
    \index{theia \textit{(package)}!theia.helpers \textit{(package)}!theia.helpers.geometry \textit{(module)}!theia.helpers.geometry.refrAngle \textit{(function)}}

    \vspace{0.5ex}

\hspace{.8\funcindent}\begin{boxedminipage}{\funcwidth}

    \raggedright \textbf{refrAngle}(\textit{theta}, \textit{n1}, \textit{n2})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
\setlength{\parskip}{2ex}
    Returns the refraction angle at n1/n2 interface for incoming theta.

    May raise a TotalReflectionError.

\setlength{\parskip}{1ex}
    \end{boxedminipage}

    \label{theia:helpers:geometry:linePlaneInter}
    \index{theia \textit{(package)}!theia.helpers \textit{(package)}!theia.helpers.geometry \textit{(module)}!theia.helpers.geometry.linePlaneInter \textit{(function)}}

    \vspace{0.5ex}

\hspace{.8\funcindent}\begin{boxedminipage}{\funcwidth}

    \raggedright \textbf{linePlaneInter}(\textit{pos}, \textit{dirV}, \textit{planeC}, \textit{normV}, \textit{diameter})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
\setlength{\parskip}{2ex}
\begin{alltt}
Computes the intersection between a line and a plane.

pos: position of the begining of the line. [3D vector]
dirV: directing vector of the line. [3D vector]
planeC: position of the center of the plane. [3D vector]
normV: vector normal to the plane. [3D vector]
diameter: diameter of the plane.

Returns a dictionary with keys:
    'isHit': whether of not the plane is hit. [boolean]
    'distance': geometrical distance from line origin to intersection point.
        [float]
    'intersection point': position of intersection point. [3D vector]
\end{alltt}

\setlength{\parskip}{1ex}
    \end{boxedminipage}

    \label{theia:helpers:geometry:lineSurfInter}
    \index{theia \textit{(package)}!theia.helpers \textit{(package)}!theia.helpers.geometry \textit{(module)}!theia.helpers.geometry.lineSurfInter \textit{(function)}}

    \vspace{0.5ex}

\hspace{.8\funcindent}\begin{boxedminipage}{\funcwidth}

    \raggedright \textbf{lineSurfInter}(\textit{pos}, \textit{dirV}, \textit{chordC}, \textit{chordNorm}, \textit{kurv}, \textit{diameter})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
\setlength{\parskip}{2ex}
\begin{alltt}
Computes the intersection between a line and a spherical surface.

The spherical surface is supposed to have a cylindrical symmetry around
    the vector normal to the 'chord', ie the plane which undertends
    the surface.

Note: the normal vector always looks to the center of the sphere and the
    surface is supposed to occupy less than a semi-sphere

pos: position of the begingin of the line. [3D vector]
dirV: direction of the line. [3D vector]
chordC: position of the center of the 'chord'. [3D vector]
chordNorm: normal vector the the chord in its center. [3D vector]
kurv: curvature (1/ROC) of the surface. [float]
diameter: diameter of the surface. [float]

Returns a dictionary with keys:
    'is Hit': whether the surface is hit or not. [boolean]
    'distance': distance to the intersection point from pos. [float]
    'intersection point': position of intersection point. [3D vector]
\end{alltt}

\setlength{\parskip}{1ex}
    \end{boxedminipage}

    \label{theia:helpers:geometry:lineCylInter}
    \index{theia \textit{(package)}!theia.helpers \textit{(package)}!theia.helpers.geometry \textit{(module)}!theia.helpers.geometry.lineCylInter \textit{(function)}}

    \vspace{0.5ex}

\hspace{.8\funcindent}\begin{boxedminipage}{\funcwidth}

    \raggedright \textbf{lineCylInter}(\textit{pos}, \textit{dirV}, \textit{faceC}, \textit{normV}, \textit{thickness}, \textit{diameter})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
\setlength{\parskip}{2ex}
\begin{alltt}
Computes the intersection of a line and a cylinder in 3D space.

The cylinder is specified by a disk of center faceC, an outgoing normal
normV, a thickness (thus behind the normal) and a diameter.

pos: origin of the line. [3D vector]
dirV: directing vector of the line. [3D vector]
faceC: center of the face of the cylinder where lies the normal vector.
    [3D vector]
normV: normal vector to this face (outgoing). [3D vector]
thickness: thickness of the cylinder (counted from faceC and behind normV)
    [float]
diameter: of the cylinder. [float]

Returns a dictionary with keys:
    'isHit': whether of not. [boolean]
    'distance': geometrical distance of the intersection point from pos.
        [float]
    'intersection point': point of intersection. [3D vector]
\end{alltt}

\setlength{\parskip}{1ex}
    \end{boxedminipage}

    \label{theia:helpers:geometry:newDir}
    \index{theia \textit{(package)}!theia.helpers \textit{(package)}!theia.helpers.geometry \textit{(module)}!theia.helpers.geometry.newDir \textit{(function)}}

    \vspace{0.5ex}

\hspace{.8\funcindent}\begin{boxedminipage}{\funcwidth}

    \raggedright \textbf{newDir}(\textit{inc}, \textit{nor}, \textit{n1}, \textit{n2})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
\setlength{\parskip}{2ex}
\begin{alltt}
Computes the refl and refr directions produced by inc at interface n1/n2.

inc: director vector of incoming beam. [3D vector]
nor: normal to the interface at the intersection point. [3D vector]
n1: refractive index of the first medium. [float]
n2: idem.

Returns a dictionary with keys:
    'r': normalized direction of reflected beam. [3D vector]
    't': normalized direction of refracted beam. [3D vector]
    'TR': was there total reflection?. [boolean]

Note: if total reflection then refr is None.
\end{alltt}

\setlength{\parskip}{1ex}
    \end{boxedminipage}

    \label{theia:helpers:geometry:rotMatrix}
    \index{theia \textit{(package)}!theia.helpers \textit{(package)}!theia.helpers.geometry \textit{(module)}!theia.helpers.geometry.rotMatrix \textit{(function)}}

    \vspace{0.5ex}

\hspace{.8\funcindent}\begin{boxedminipage}{\funcwidth}

    \raggedright \textbf{rotMatrix}(\textit{a}, \textit{b})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
\setlength{\parskip}{2ex}
    Provides the rotation matrix which maps a (unit) to b (unit).

    a,b: unit 3D vectors. [3D np.arrays]

    Returns an np.array such that np.dot(M,a) == b.

\setlength{\parskip}{1ex}
    \end{boxedminipage}

    \label{theia:helpers:geometry:basis}
    \index{theia \textit{(package)}!theia.helpers \textit{(package)}!theia.helpers.geometry \textit{(module)}!theia.helpers.geometry.basis \textit{(function)}}

    \vspace{0.5ex}

\hspace{.8\funcindent}\begin{boxedminipage}{\funcwidth}

    \raggedright \textbf{basis}(\textit{a})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
\setlength{\parskip}{2ex}
    Returns two vectors u and v such that (a, u, v) is a direct ON basis.

\setlength{\parskip}{1ex}
    \end{boxedminipage}

    \label{theia:helpers:geometry:rectToSph}
    \index{theia \textit{(package)}!theia.helpers \textit{(package)}!theia.helpers.geometry \textit{(module)}!theia.helpers.geometry.rectToSph \textit{(function)}}

    \vspace{0.5ex}

\hspace{.8\funcindent}\begin{boxedminipage}{\funcwidth}

    \raggedright \textbf{rectToSph}(\textit{array})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
\setlength{\parskip}{2ex}
    Returns the spherical coordinates of the unitary vector given by array.

    array: 3D vector (unitary). [float]

    Returns the theta and phi angles in radians with theta in [0, pi] and 
    phi in [-pi, pi]

\setlength{\parskip}{1ex}
    \end{boxedminipage}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                               Variables                               %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

  \subsection{Variables}

    \vspace{-1cm}
\hspace{\varindent}\begin{longtable}{|p{\varnamewidth}|p{\vardescrwidth}|l}
\cline{1-2}
\cline{1-2} \centering \textbf{Name} & \centering \textbf{Description}& \\
\cline{1-2}
\endhead\cline{1-2}\multicolumn{3}{r}{\small\textit{continued on next page}}\\\endfoot\cline{1-2}
\endlastfoot\raggedright \_\-\_\-p\-a\-c\-k\-a\-g\-e\-\_\-\_\- & \raggedright \textbf{Value:} 
{\tt \texttt{'}\texttt{theia.helpers}\texttt{'}}&\\
\cline{1-2}
\end{longtable}

    \index{theia \textit{(package)}!theia.helpers \textit{(package)}!theia.helpers.geometry \textit{(module)}|)}
